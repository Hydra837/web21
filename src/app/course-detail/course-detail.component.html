<div *ngIf="isLoading" class="loading-overlay">
  <p>Chargement en cours...</p>
</div>

<div *ngIf="course && !isLoading" class="course-detail">
  <h2>Détails du Cours</h2>
  <div class="course-info">
    <p><strong>Nom :</strong> {{ course.Nom }}</p>
    <p><strong>Description :</strong> {{ course.description }}</p>
    <p><strong>Date de Début :</strong> {{ course.dateDebut | date: 'shortDate' }}</p>
    <p><strong>Date de Fin :</strong> {{ course.dateFin | date: 'shortDate' }}</p>
    <p><strong>Disponible :</strong> {{ course.available ? 'Oui' : 'Non' }}</p>
  </div>

  <div class="assignments">
    <h3>Devoirs</h3>
    <ul>
      <li *ngFor="let assignment of assignments">
        {{ assignment.title }} - {{ assignment.description }}
      </li>
    </ul>
  </div>

  <div class="users">
    <h3>Utilisateurs Inscrits</h3>
    <ul>
      <li *ngFor="let user of enrolledUsers" (click)="viewUserDetails(user.id)">
        {{ user.name }}
      </li>
    </ul>
  </div>

  <div class="grades" *ngIf="selectedUserGrades">
    <h3>Notes de {{ selectedUser?.name }}</h3>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Devoir</th>
          <th>Note</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let grade of selectedUserGrades">
          <td>{{ grade.assignmentTitle }}</td>
          <td>{{ grade.value }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="errorMessage" class="error-message">
    <p>{{ errorMessage }}</p>
  </div>
</div>
